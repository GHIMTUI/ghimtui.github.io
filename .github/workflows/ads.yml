import os

          file_path = "z-ads/ads.txt"
          with open(file_path, 'r') as f:
              lines = f.readlines()

          header = [line.strip() for line in lines if line.startswith(('!', '['))]
          # Lọc nội dung, xóa khoảng trắng và loại bỏ trùng lặp
          body = list(set([line.strip() for line in lines if line.strip() and not line.startswith(('!', '['))]))
          
          # Sắp xếp theo alphabet
          body.sort()

          with open(file_path, 'w') as f:
              # Ghi Header
              for h in header:
                  f.write(h + '\n')
              if header: f.write('\n')
              
              last_section = ""
              for line in body:
                  first_char = line[0].upper()
                  
                  # Xác định phân mục (Section)
                  if first_char.isdigit():
                      current_section = "0-9"
                  elif first_char.isalpha():
                      current_section = first_char
                  else:
                      current_section = "OTHERS" # Cho các ký tự đặc biệt khác nếu có

                  # Ghi tiêu đề phân mục nếu có sự thay đổi
                  if current_section != last_section:
                      f.write(f"\n# --- {current_section} ---\n")
                      last_section = current_section
                  
                  f.write(line + '\n')
          
          print(f"Processed: {len(body)} lines.")
